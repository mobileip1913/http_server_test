# 语音对话测试平台 - Web服务

专业的语音对话测试Web界面，提供实时测试监控和数据展示。

## 功能特性

### 📊 实时监控
- **实时对话流**：显示每个测试的完整对话过程
- **进度追踪**：实时显示测试进度和完成情况
- **状态更新**：WebSocket实时推送测试状态

### 📈 数据展示
- **统计卡片**：总测试数、成功数、失败数、成功率
- **成功率趋势图**：Chart.js绘制的实时趋势图表
- **对话详情**：用户输入、STT识别、LLM返回的完整记录

### 🎨 专业UI设计
- **深色主题**：护眼的深色界面
- **渐变色彩**：现代化的渐变设计
- **响应式布局**：适配不同屏幕尺寸
- **流畅动画**：优雅的交互动画效果

## 安装依赖

```bash
pip install -r requirements.txt
```

## 启动服务

```bash
python start_web_server.py
```

或者直接运行：

```bash
python web_server.py
```

## 访问界面

打开浏览器访问：http://localhost:5000

## 使用说明

1. **开始测试**：点击"开始测试"按钮启动测试
2. **实时监控**：在"实时对话流"面板查看每个测试的对话过程
3. **查看统计**：顶部统计卡片显示总体测试情况
4. **分析趋势**：底部图表显示成功率变化趋势
5. **停止测试**：测试过程中可随时点击"停止测试"按钮

## 界面说明

### 统计卡片
- **总测试数**：已执行的测试总数
- **成功**：成功完成的测试数
- **失败**：失败的测试数
- **成功率**：成功测试占总测试的百分比

### 实时对话流
每个对话项显示：
- **测试类型**：询问（蓝色）或购买（橙色）
- **测试序号**：测试编号
- **用户输入**：原始测试文本
- **STT识别**：语音识别结果（蓝色）
- **LLM返回**：大模型返回内容（绿色）
- **错误信息**：如有错误，显示错误详情（红色）

### 成功率趋势图
实时显示测试过程中成功率的变化趋势，帮助分析测试质量。

## 技术栈

- **后端**：Flask + Flask-SocketIO
- **前端**：原生JavaScript + Chart.js
- **实时通信**：WebSocket (Socket.IO)
- **样式**：CSS3 (深色主题 + 渐变设计)

## 注意事项

1. 确保测试音频文件存在于 `audio/inquiries/` 目录
2. 确保WebSocket服务器配置正确（在 `config.py` 中）
3. 测试过程中不要关闭浏览器标签页
4. 大量测试时建议使用Chrome或Firefox浏览器以获得最佳性能

