2025-11-11 12:15:31 | WARNING  | File not found: D:\code\vb_eye_st7789\performance\product_inquiries.txt, will use audio files only
2025-11-11 12:15:31 | INFO     | Connection #1: [DETAILED] HTTP Response | Status: 101 | Headers: {'upgrade': 'websocket', 'connection': 'Upgrade', 'sec-websocket-accept': 'OBbNxqr1U8QLGsFPkmfr5mgB69Y='}
2025-11-11 12:15:31 | INFO     | Connection #1: [DETAILED] WebSocket state | Close code: None | Remote address: ('119.91.66.120', 8081)
2025-11-11 12:15:31 | INFO     | [CONNECTION] Connection #1 | Status: success | Duration: 188.08ms
2025-11-11 12:15:31 | INFO     | Connection #1: [DETAILED] Received JSON message #1 | Raw message: {
  "type": "auth",
  "code": 0,
  "msg": "auth_success",
  "data": {
    "sn": "FC012C2EA0A0",
    "volume": 50,
    "light": 20,
    "time": 1762834532563,
    "can_use_while_charging": 1
  }
}
2025-11-11 12:15:31 | INFO     | Connection #1: [DETAILED] Parsed message | Type: auth | Full data: {
  "type": "auth",
  "code": 0,
  "msg": "auth_success",
  "data": {
    "sn": "FC012C2EA0A0",
    "volume": 50,
    "light": 20,
    "time": 1762834532563,
    "can_use_while_charging": 1
  }
}
2025-11-11 12:15:31 | INFO     | 
============================================================
2025-11-11 12:15:31 | INFO     | Testing [INQUIRY] #001: è¯¢é—® #1...
2025-11-11 12:15:31 | INFO     | Audio file: inquiry_001.opus
2025-11-11 12:15:31 | INFO     | ============================================================
2025-11-11 12:15:31 | INFO     | Detected Ogg Opus container, converting with ffmpeg...
2025-11-11 12:15:31 | INFO     | Converting Ogg Opus to PCM and re-encoding to raw Opus packets...
2025-11-11 12:15:31 | INFO     | Processed remaining 1104 bytes PCM data with 816 bytes padding (total 225744 bytes)
2025-11-11 12:15:31 | INFO     | Generated 118 raw Opus packets from PCM data (total 20954 bytes, processed 225744 bytes PCM, coverage: 99.6%)
2025-11-11 12:15:31 | INFO     | Detected 118 raw Opus packets from Ogg container. These MUST be sent individually (one per WebSocket message), ignoring SPLIT_OPUS_PACKETS=False
2025-11-11 12:15:31 | INFO     | Connection #1: [DETAILED] Sending text message | Connection closed: False | Message size: 140 bytes
2025-11-11 12:15:31 | INFO     | Connection #1: [DETAILED] Sent message | Type: start_listen | Full message: {"session_id": "", "type": "start_listen", "data": {"format": "opus", "tts_format": "opus", "playTag": 1, "state": "asr", "mode": "manual"}}
2025-11-11 12:15:40 | INFO     | Connection #1: [DETAILED] Sending text message | Connection closed: False | Message size: 58 bytes
2025-11-11 12:15:40 | INFO     | Connection #1: [DETAILED] Sent message | Type: stop_listen | Full message: {"session_id": "", "type": "stop_listen", "state": "stop"}
2025-11-11 12:15:40 | INFO     | Connection #1: [DETAILED] Received JSON message #2 | Raw message: {"type":"stt","text":"ä½ å¥½ï¼Œæˆ‘æƒ³ä¹°ç‚¹ä¸œåŒ—å¤§ç±³ï¼Œå¬è¯´é•¿ç²’é¦™ç±³ç…®é¥­ç‰¹åˆ«é¦™ï¼Œæ˜¯çœŸçš„å—ï¼Ÿ"}
2025-11-11 12:15:40 | INFO     | Connection #1: [DETAILED] Parsed message | Type: stt | Full data: {
  "type": "stt",
  "text": "ä½ å¥½ï¼Œæˆ‘æƒ³ä¹°ç‚¹ä¸œåŒ—å¤§ç±³ï¼Œå¬è¯´é•¿ç²’é¦™ç±³ç…®é¥­ç‰¹åˆ«é¦™ï¼Œæ˜¯çœŸçš„å—ï¼Ÿ"
}
2025-11-11 12:15:40 | INFO     | Connection #1: STT response received in 8487.55ms | Recognized text: ä½ å¥½ï¼Œæˆ‘æƒ³ä¹°ç‚¹ä¸œåŒ—å¤§ç±³ï¼Œå¬è¯´é•¿ç²’é¦™ç±³ç…®é¥­ç‰¹åˆ«é¦™ï¼Œæ˜¯çœŸçš„å—ï¼Ÿ
2025-11-11 12:15:40 | INFO     | Connection #1: [DETAILED] Received JSON message #3 | Raw message: {"type":"tts","state":"start"}
2025-11-11 12:15:40 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "start"
}
2025-11-11 12:15:40 | INFO     | Connection #1: TTS start | State: start
2025-11-11 12:15:41 | INFO     | Connection #1: [DETAILED] Received JSON message #4 | Raw message: {"type":"emoji","text":"ğŸ˜Š","emotion":"happy"}
2025-11-11 12:15:41 | INFO     | Connection #1: [DETAILED] Parsed message | Type: emoji | Full data: {
  "type": "emoji",
  "text": "ğŸ˜Š",
  "emotion": "happy"
}
2025-11-11 12:15:41 | INFO     | Connection #1: Received emoji message | Emotion: happy
2025-11-11 12:15:42 | INFO     | Connection #1: [DETAILED] Received JSON message #5 | Raw message: {"type":"tts","state":"sentence_start","text":"ç¡®å®å¦‚æ­¤å‘€ï¼"}
2025-11-11 12:15:42 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_start",
  "text": "ç¡®å®å¦‚æ­¤å‘€ï¼"
}
2025-11-11 12:15:42 | INFO     | Connection #1: TTS sentence_start | Text: ç¡®å®å¦‚æ­¤å‘€ï¼
2025-11-11 12:15:43 | INFO     | Connection #1: [DETAILED] Received JSON message #27 | Raw message: {"type":"tts","state":"sentence_end","text":""}
2025-11-11 12:15:43 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_end",
  "text": ""
}
2025-11-11 12:15:43 | INFO     | Connection #1: TTS update | State: sentence_end
2025-11-11 12:15:43 | INFO     | Connection #1: [DETAILED] Received JSON message #28 | Raw message: {"type":"tts","state":"sentence_start","text":"ä¸œåŒ—é•¿ç²’é¦™ç±³ç…®é¥­é‚£å«ä¸€ä¸ªé¦™ã€‚"}
2025-11-11 12:15:43 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_start",
  "text": "ä¸œåŒ—é•¿ç²’é¦™ç±³ç…®é¥­é‚£å«ä¸€ä¸ªé¦™ã€‚"
}
2025-11-11 12:15:43 | INFO     | Connection #1: TTS sentence_start | Text: ä¸œåŒ—é•¿ç²’é¦™ç±³ç…®é¥­é‚£å«ä¸€ä¸ªé¦™ã€‚
2025-11-11 12:15:46 | INFO     | Connection #1: [DETAILED] Received JSON message #79 | Raw message: {"type":"tts","state":"sentence_end","text":""}
2025-11-11 12:15:46 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_end",
  "text": ""
}
2025-11-11 12:15:46 | INFO     | Connection #1: TTS update | State: sentence_end
2025-11-11 12:15:46 | INFO     | Connection #1: [DETAILED] Received JSON message #80 | Raw message: {"type":"tts","state":"sentence_start","text":"å®ƒç”Ÿé•¿ç¯å¢ƒä¼˜è¶Šï¼Œä¸œåŒ—çš„é»‘åœŸåœ°è‚¥æ²ƒï¼Œå…‰ç…§ã€æ°´æºç­‰æ¡ä»¶è‰¯å¥½"}
2025-11-11 12:15:46 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_start",
  "text": "å®ƒç”Ÿé•¿ç¯å¢ƒä¼˜è¶Šï¼Œä¸œåŒ—çš„é»‘åœŸåœ°è‚¥æ²ƒï¼Œå…‰ç…§ã€æ°´æºç­‰æ¡ä»¶è‰¯å¥½"
}
2025-11-11 12:15:46 | INFO     | Connection #1: TTS sentence_start | Text: å®ƒç”Ÿé•¿ç¯å¢ƒä¼˜è¶Šï¼Œä¸œåŒ—çš„é»‘åœŸåœ°è‚¥æ²ƒï¼Œå…‰ç…§ã€æ°´æºç­‰æ¡ä»¶è‰¯å¥½
2025-11-11 12:15:52 | INFO     | Connection #1: [DETAILED] Received JSON message #173 | Raw message: {"type":"tts","state":"sentence_end","text":""}
2025-11-11 12:15:52 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_end",
  "text": ""
}
2025-11-11 12:15:52 | INFO     | Connection #1: TTS update | State: sentence_end
2025-11-11 12:15:52 | INFO     | Connection #1: [DETAILED] Received JSON message #174 | Raw message: {"type":"tts","state":"sentence_start","text":"ï¼Œä½¿å¾—é•¿ç²’é¦™ç±³ç§¯ç´¯äº†ä¸°å¯Œçš„è¥å…»ç‰©è´¨ï¼Œä¹Ÿé€ å°±äº†å®ƒç‹¬ç‰¹çš„é¦™æ°”ã€‚"}
2025-11-11 12:15:52 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_start",
  "text": "ï¼Œä½¿å¾—é•¿ç²’é¦™ç±³ç§¯ç´¯äº†ä¸°å¯Œçš„è¥å…»ç‰©è´¨ï¼Œä¹Ÿé€ å°±äº†å®ƒç‹¬ç‰¹çš„é¦™æ°”ã€‚"
}
2025-11-11 12:15:52 | INFO     | Connection #1: TTS sentence_start | Text: ï¼Œä½¿å¾—é•¿ç²’é¦™ç±³ç§¯ç´¯äº†ä¸°å¯Œçš„è¥å…»ç‰©è´¨ï¼Œä¹Ÿé€ å°±äº†å®ƒç‹¬ç‰¹çš„é¦™æ°”ã€‚
2025-11-11 12:15:57 | INFO     | Connection #1: [DETAILED] Received JSON message #260 | Raw message: {"type":"tts","state":"sentence_end","text":""}
2025-11-11 12:15:57 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_end",
  "text": ""
}
2025-11-11 12:15:57 | INFO     | Connection #1: TTS update | State: sentence_end
2025-11-11 12:15:57 | INFO     | Connection #1: [DETAILED] Received JSON message #261 | Raw message: {"type":"tts","state":"sentence_start","text":"åœ¨ç…®é¥­è¿‡ç¨‹ä¸­ï¼Œè¿™ç§é¦™æ°”ä¼šå……åˆ†æ•£å‘å‡ºæ¥ï¼Œé—»ç€å°±è®©äººç‰¹åˆ«æœ‰é£Ÿæ¬²"}
2025-11-11 12:15:57 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_start",
  "text": "åœ¨ç…®é¥­è¿‡ç¨‹ä¸­ï¼Œè¿™ç§é¦™æ°”ä¼šå……åˆ†æ•£å‘å‡ºæ¥ï¼Œé—»ç€å°±è®©äººç‰¹åˆ«æœ‰é£Ÿæ¬²"
}
2025-11-11 12:15:57 | INFO     | Connection #1: TTS sentence_start | Text: åœ¨ç…®é¥­è¿‡ç¨‹ä¸­ï¼Œè¿™ç§é¦™æ°”ä¼šå……åˆ†æ•£å‘å‡ºæ¥ï¼Œé—»ç€å°±è®©äººç‰¹åˆ«æœ‰é£Ÿæ¬²
2025-11-11 12:16:02 | INFO     | Connection #1: [DETAILED] Received JSON message #352 | Raw message: {"type":"tts","state":"sentence_end","text":""}
2025-11-11 12:16:02 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_end",
  "text": ""
}
2025-11-11 12:16:02 | INFO     | Connection #1: TTS update | State: sentence_end
2025-11-11 12:16:02 | INFO     | Connection #1: [DETAILED] Received JSON message #353 | Raw message: {"type":"tts","state":"sentence_start","text":"ï¼Œç…®å‡ºçš„ç±³é¥­ä¸ä»…é¦™ï¼Œå£æ„Ÿè¿˜è½¯ç³¯ç­‹é“ï¼Œè®©äººå›å‘³æ— ç©·ã€‚"}
2025-11-11 12:16:02 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_start",
  "text": "ï¼Œç…®å‡ºçš„ç±³é¥­ä¸ä»…é¦™ï¼Œå£æ„Ÿè¿˜è½¯ç³¯ç­‹é“ï¼Œè®©äººå›å‘³æ— ç©·ã€‚"
}
2025-11-11 12:16:02 | INFO     | Connection #1: TTS sentence_start | Text: ï¼Œç…®å‡ºçš„ç±³é¥­ä¸ä»…é¦™ï¼Œå£æ„Ÿè¿˜è½¯ç³¯ç­‹é“ï¼Œè®©äººå›å‘³æ— ç©·ã€‚
2025-11-11 12:16:07 | INFO     | Connection #1: [DETAILED] Received JSON message #433 | Raw message: {"type":"tts","state":"sentence_end","text":""}
2025-11-11 12:16:07 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_end",
  "text": ""
}
2025-11-11 12:16:07 | INFO     | Connection #1: TTS update | State: sentence_end
2025-11-11 12:16:07 | INFO     | Connection #1: [DETAILED] Received JSON message #434 | Raw message: {"type":"tts","state":"sentence_start","text":"\n\nè¯´åˆ°è¿™ï¼Œæˆ‘ç»™ä½ æ¨èå‡ æ¬¾é•¿ç²’é¦™ç±³å“ˆã€‚"}
2025-11-11 12:16:07 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_start",
  "text": "\n\nè¯´åˆ°è¿™ï¼Œæˆ‘ç»™ä½ æ¨èå‡ æ¬¾é•¿ç²’é¦™ç±³å“ˆã€‚"
}
2025-11-11 12:16:07 | INFO     | Connection #1: TTS sentence_start | Text: 

è¯´åˆ°è¿™ï¼Œæˆ‘ç»™ä½ æ¨èå‡ æ¬¾é•¿ç²’é¦™ç±³å“ˆã€‚
2025-11-11 12:16:10 | INFO     | Connection #1: [DETAILED] Received JSON message #489 | Raw message: {"type":"tts","state":"sentence_end","text":""}
2025-11-11 12:16:10 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_end",
  "text": ""
}
2025-11-11 12:16:10 | INFO     | Connection #1: TTS update | State: sentence_end
2025-11-11 12:16:10 | INFO     | Connection #1: [DETAILED] Received JSON message #490 | Raw message: {"type":"tts","state":"sentence_start","text":"ã€‚é‡‘é¾™é±¼é•¿ç²’é¦™ç±³5kgã€‚ï¼šçŸ¥åå“ç‰Œå‹ã€‚"}
2025-11-11 12:16:10 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_start",
  "text": "ã€‚é‡‘é¾™é±¼é•¿ç²’é¦™ç±³5kgã€‚ï¼šçŸ¥åå“ç‰Œå‹ã€‚"
}
2025-11-11 12:16:10 | INFO     | Connection #1: TTS sentence_start | Text: ã€‚é‡‘é¾™é±¼é•¿ç²’é¦™ç±³5kgã€‚ï¼šçŸ¥åå“ç‰Œå‹ã€‚
2025-11-11 12:16:15 | INFO     | Connection #1: [DETAILED] Received JSON message #574 | Raw message: {"type":"tts","state":"sentence_end","text":""}
2025-11-11 12:16:15 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_end",
  "text": ""
}
2025-11-11 12:16:15 | INFO     | Connection #1: TTS update | State: sentence_end
2025-11-11 12:16:15 | INFO     | Connection #1: [DETAILED] Received JSON message #575 | Raw message: {"type":"tts","state":"sentence_start","text":"é‡‘é¾™é±¼å¯æ˜¯å®¶å–»æˆ·æ™“çš„å¤§å“ç‰Œï¼Œå“è´¨å€¼å¾—ä¿¡èµ–ã€‚"}
2025-11-11 12:16:15 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_start",
  "text": "é‡‘é¾™é±¼å¯æ˜¯å®¶å–»æˆ·æ™“çš„å¤§å“ç‰Œï¼Œå“è´¨å€¼å¾—ä¿¡èµ–ã€‚"
}
2025-11-11 12:16:15 | INFO     | Connection #1: TTS sentence_start | Text: é‡‘é¾™é±¼å¯æ˜¯å®¶å–»æˆ·æ™“çš„å¤§å“ç‰Œï¼Œå“è´¨å€¼å¾—ä¿¡èµ–ã€‚
2025-11-11 12:16:19 | INFO     | Connection #1: [DETAILED] Received JSON message #643 | Raw message: {"type":"tts","state":"sentence_end","text":""}
2025-11-11 12:16:19 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_end",
  "text": ""
}
2025-11-11 12:16:19 | INFO     | Connection #1: TTS update | State: sentence_end
2025-11-11 12:16:19 | INFO     | Connection #1: [DETAILED] Received JSON message #644 | Raw message: {"type":"tts","state":"sentence_start","text":"è¿™æ¬¾ç±³ç±³ç²’ç»†é•¿å‡åŒ€ï¼Œç…®å‡ºçš„ç±³é¥­å£æ„ŸæŸ”è½¯ï¼Œé¦™æ°”å››æº¢ã€‚"}
2025-11-11 12:16:19 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_start",
  "text": "è¿™æ¬¾ç±³ç±³ç²’ç»†é•¿å‡åŒ€ï¼Œç…®å‡ºçš„ç±³é¥­å£æ„ŸæŸ”è½¯ï¼Œé¦™æ°”å››æº¢ã€‚"
}
2025-11-11 12:16:19 | INFO     | Connection #1: TTS sentence_start | Text: è¿™æ¬¾ç±³ç±³ç²’ç»†é•¿å‡åŒ€ï¼Œç…®å‡ºçš„ç±³é¥­å£æ„ŸæŸ”è½¯ï¼Œé¦™æ°”å››æº¢ã€‚
2025-11-11 12:16:24 | INFO     | Connection #1: [DETAILED] Received JSON message #727 | Raw message: {"type":"tts","state":"sentence_end","text":""}
2025-11-11 12:16:24 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_end",
  "text": ""
}
2025-11-11 12:16:24 | INFO     | Connection #1: TTS update | State: sentence_end
2025-11-11 12:16:24 | INFO     | Connection #1: [DETAILED] Received JSON message #728 | Raw message: {"type":"tts","state":"sentence_start","text":"ã€‚ç¦ä¸´é—¨é•¿ç²’é¦™ä¸œåŒ—å¤§ç±³5kgã€‚ï¼šå¤§ä¼—å–œçˆ±å‹ã€‚"}
2025-11-11 12:16:24 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_start",
  "text": "ã€‚ç¦ä¸´é—¨é•¿ç²’é¦™ä¸œåŒ—å¤§ç±³5kgã€‚ï¼šå¤§ä¼—å–œçˆ±å‹ã€‚"
}
2025-11-11 12:16:24 | INFO     | Connection #1: TTS sentence_start | Text: ã€‚ç¦ä¸´é—¨é•¿ç²’é¦™ä¸œåŒ—å¤§ç±³5kgã€‚ï¼šå¤§ä¼—å–œçˆ±å‹ã€‚
2025-11-11 12:16:29 | INFO     | Connection #1: [DETAILED] Received JSON message #804 | Raw message: {"type":"tts","state":"sentence_end","text":""}
2025-11-11 12:16:29 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_end",
  "text": ""
}
2025-11-11 12:16:29 | INFO     | Connection #1: TTS update | State: sentence_end
2025-11-11 12:16:29 | INFO     | Connection #1: [DETAILED] Received JSON message #805 | Raw message: {"type":"tts","state":"sentence_start","text":"ç¦ä¸´é—¨ä¹Ÿæ˜¯æ·±å—å¤§å®¶æ¬¢è¿çš„å“ç‰Œï¼Œç±³è´¨ä¸Šä¹˜ï¼Œé•¿ç²’é¥±æ»¡"}
2025-11-11 12:16:29 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_start",
  "text": "ç¦ä¸´é—¨ä¹Ÿæ˜¯æ·±å—å¤§å®¶æ¬¢è¿çš„å“ç‰Œï¼Œç±³è´¨ä¸Šä¹˜ï¼Œé•¿ç²’é¥±æ»¡"
}
2025-11-11 12:16:29 | INFO     | Connection #1: TTS sentence_start | Text: ç¦ä¸´é—¨ä¹Ÿæ˜¯æ·±å—å¤§å®¶æ¬¢è¿çš„å“ç‰Œï¼Œç±³è´¨ä¸Šä¹˜ï¼Œé•¿ç²’é¥±æ»¡
2025-11-11 12:16:34 | INFO     | Connection #1: [DETAILED] Received JSON message #893 | Raw message: {"type":"tts","state":"sentence_end","text":""}
2025-11-11 12:16:34 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_end",
  "text": ""
}
2025-11-11 12:16:34 | INFO     | Connection #1: TTS update | State: sentence_end
2025-11-11 12:16:34 | INFO     | Connection #1: [DETAILED] Received JSON message #894 | Raw message: {"type":"tts","state":"sentence_start","text":"ï¼Œè’¸ç…®åç±³é¥­é¦™æ°”æ‰‘é¼»ï¼Œå£æ„Ÿä¸é”™ã€‚"}
2025-11-11 12:16:34 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_start",
  "text": "ï¼Œè’¸ç…®åç±³é¥­é¦™æ°”æ‰‘é¼»ï¼Œå£æ„Ÿä¸é”™ã€‚"
}
2025-11-11 12:16:34 | INFO     | Connection #1: TTS sentence_start | Text: ï¼Œè’¸ç…®åç±³é¥­é¦™æ°”æ‰‘é¼»ï¼Œå£æ„Ÿä¸é”™ã€‚
2025-11-11 12:16:37 | INFO     | Connection #1: [DETAILED] Received JSON message #951 | Raw message: {"type":"tts","state":"sentence_end","text":""}
2025-11-11 12:16:37 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_end",
  "text": ""
}
2025-11-11 12:16:37 | INFO     | Connection #1: TTS update | State: sentence_end
2025-11-11 12:16:37 | INFO     | Connection #1: [DETAILED] Received JSON message #952 | Raw message: {"type":"tts","state":"sentence_start","text":"\n\nè¿™é‡Œé¢æœ‰ä½ æƒ³è¿›ä¸€æ­¥äº†è§£çš„å—ï¼Ÿè¦ä¸è¦å¯¹æ¯”ä¸€ä¸‹è¿™å‡ æ¬¾ï¼Ÿ"}
2025-11-11 12:16:37 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_start",
  "text": "\n\nè¿™é‡Œé¢æœ‰ä½ æƒ³è¿›ä¸€æ­¥äº†è§£çš„å—ï¼Ÿè¦ä¸è¦å¯¹æ¯”ä¸€ä¸‹è¿™å‡ æ¬¾ï¼Ÿ"
}
2025-11-11 12:16:37 | INFO     | Connection #1: TTS sentence_start | Text: 

è¿™é‡Œé¢æœ‰ä½ æƒ³è¿›ä¸€æ­¥äº†è§£çš„å—ï¼Ÿè¦ä¸è¦å¯¹æ¯”ä¸€ä¸‹è¿™å‡ æ¬¾ï¼Ÿ
2025-11-11 12:16:41 | INFO     | Connection #1: [DETAILED] Received JSON message #1025 | Raw message: {"type":"tts","state":"sentence_end","text":""}
2025-11-11 12:16:41 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_end",
  "text": ""
}
2025-11-11 12:16:41 | INFO     | Connection #1: TTS update | State: sentence_end
2025-11-11 12:16:41 | INFO     | Connection #1: [DETAILED] Received JSON message #1026 | Raw message: {"type":"tts","state":"sentence_start","text":"å¯¹å•¦ï¼ŒåŒ—äº¬å¤ªç©ºé“¾ç§‘æŠ€æ˜¯èµ‹èƒ½ä¼ ç»Ÿäº§ä¸šé«˜è´¨é‡å‘å±•çš„åˆ›æ–°ä¼ä¸š"}
2025-11-11 12:16:41 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_start",
  "text": "å¯¹å•¦ï¼ŒåŒ—äº¬å¤ªç©ºé“¾ç§‘æŠ€æ˜¯èµ‹èƒ½ä¼ ç»Ÿäº§ä¸šé«˜è´¨é‡å‘å±•çš„åˆ›æ–°ä¼ä¸š"
}
2025-11-11 12:16:41 | INFO     | Connection #1: TTS sentence_start | Text: å¯¹å•¦ï¼ŒåŒ—äº¬å¤ªç©ºé“¾ç§‘æŠ€æ˜¯èµ‹èƒ½ä¼ ç»Ÿäº§ä¸šé«˜è´¨é‡å‘å±•çš„åˆ›æ–°ä¼ä¸š
2025-11-11 12:16:44 | INFO     | âœ“ Response received: [STT] ä½ å¥½ï¼Œæˆ‘æƒ³ä¹°ç‚¹ä¸œåŒ—å¤§ç±³ï¼Œå¬è¯´é•¿ç²’é¦™ç±³ç…®é¥­ç‰¹åˆ«é¦™ï¼Œæ˜¯çœŸçš„å—ï¼Ÿ | [LLM] ç¡®å®å¦‚æ­¤å‘€ï¼ ä¸œåŒ—é•¿ç²’é¦™ç±³ç…®é¥­é‚£å«ä¸€ä¸ªé¦™ã€‚ å®ƒç”Ÿé•¿ç¯å¢ƒä¼˜è¶Šï¼Œä¸œåŒ—çš„é»‘åœŸåœ°è‚¥æ²ƒï¼Œå…‰ç…§ã€æ°´æºç­‰æ¡ä»¶è‰¯å¥½ ï¼Œä½¿å¾—é•¿ç²’é¦™...
2025-11-11 12:16:45 | INFO     | 
============================================================
2025-11-11 12:16:45 | INFO     | Testing [PURCHASE] #001: è´­ä¹° #1...
2025-11-11 12:16:45 | INFO     | Audio file: purchase_001.opus
2025-11-11 12:16:45 | INFO     | ============================================================
2025-11-11 12:16:45 | INFO     | Detected Ogg Opus container, converting with ffmpeg...
2025-11-11 12:16:45 | INFO     | Converting Ogg Opus to PCM and re-encoding to raw Opus packets...
2025-11-11 12:16:45 | INFO     | Processed remaining 134 bytes PCM data with 1786 bytes padding (total 136454 bytes)
2025-11-11 12:16:45 | INFO     | Generated 72 raw Opus packets from PCM data (total 13957 bytes, processed 136454 bytes PCM, coverage: 98.7%)
2025-11-11 12:16:45 | INFO     | Detected 72 raw Opus packets from Ogg container. These MUST be sent individually (one per WebSocket message), ignoring SPLIT_OPUS_PACKETS=False
2025-11-11 12:16:45 | INFO     | Connection #1: [DETAILED] Sending text message | Connection closed: False | Message size: 140 bytes
2025-11-11 12:16:45 | INFO     | Connection #1: [DETAILED] Sent message | Type: start_listen | Full message: {"session_id": "", "type": "start_listen", "data": {"format": "opus", "tts_format": "opus", "playTag": 1, "state": "asr", "mode": "manual"}}
2025-11-11 12:16:45 | INFO     | Connection #1: [DETAILED] Received JSON message #1108 | Raw message: {"type":"tts","state":"stop"}
2025-11-11 12:16:45 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "stop"
}
2025-11-11 12:16:45 | INFO     | Connection #1: TTS stop | Duration: 64642.89ms | State: stop
2025-11-11 12:16:51 | INFO     | Connection #1: [DETAILED] Sending text message | Connection closed: False | Message size: 58 bytes
2025-11-11 12:16:51 | INFO     | Connection #1: [DETAILED] Sent message | Type: stop_listen | Full message: {"session_id": "", "type": "stop_listen", "state": "stop"}
2025-11-11 12:16:51 | INFO     | Connection #1: Received complete response at 0.1s
2025-11-11 12:16:51 | INFO     | âœ“ Response received: ...
2025-11-11 12:16:51 | INFO     | Connection #1: [DETAILED] Received JSON message #1109 | Raw message: {"type":"stt","text":"å¬èµ·æ¥ä¸é”™ï¼Œæˆ‘è´­ä¹°ä¸œåŒ—å¤§ç±³é•¿ç²’é¦™5å…¬æ–¤ã€‚"}
2025-11-11 12:16:51 | INFO     | Connection #1: [DETAILED] Parsed message | Type: stt | Full data: {
  "type": "stt",
  "text": "å¬èµ·æ¥ä¸é”™ï¼Œæˆ‘è´­ä¹°ä¸œåŒ—å¤§ç±³é•¿ç²’é¦™5å…¬æ–¤ã€‚"
}
2025-11-11 12:16:51 | INFO     | Connection #1: STT response received in 5366.77ms | Recognized text: å¬èµ·æ¥ä¸é”™ï¼Œæˆ‘è´­ä¹°ä¸œåŒ—å¤§ç±³é•¿ç²’é¦™5å…¬æ–¤ã€‚
2025-11-11 12:16:51 | INFO     | Connection #1: [DETAILED] Received JSON message #1110 | Raw message: {"type":"tts","state":"start"}
2025-11-11 12:16:51 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "start"
}
2025-11-11 12:16:51 | INFO     | Connection #1: TTS start | State: start
2025-11-11 12:16:51 | INFO     | 
============================================================
2025-11-11 12:16:51 | INFO     | Testing [INQUIRY] #002: è¯¢é—® #2...
2025-11-11 12:16:51 | INFO     | Audio file: inquiry_002.opus
2025-11-11 12:16:51 | INFO     | ============================================================
2025-11-11 12:16:51 | INFO     | Detected Ogg Opus container, converting with ffmpeg...
2025-11-11 12:16:51 | INFO     | Converting Ogg Opus to PCM and re-encoding to raw Opus packets...
2025-11-11 12:16:51 | INFO     | Processed remaining 1272 bytes PCM data with 648 bytes padding (total 177912 bytes)
2025-11-11 12:16:51 | INFO     | Generated 93 raw Opus packets from PCM data (total 18790 bytes, processed 177912 bytes PCM, coverage: 99.6%)
2025-11-11 12:16:51 | INFO     | Detected 93 raw Opus packets from Ogg container. These MUST be sent individually (one per WebSocket message), ignoring SPLIT_OPUS_PACKETS=False
2025-11-11 12:16:51 | INFO     | Connection #1: [DETAILED] Sending text message | Connection closed: False | Message size: 140 bytes
2025-11-11 12:16:51 | INFO     | Connection #1: [DETAILED] Sent message | Type: start_listen | Full message: {"session_id": "", "type": "start_listen", "data": {"format": "opus", "tts_format": "opus", "playTag": 1, "state": "asr", "mode": "manual"}}
2025-11-11 12:16:58 | INFO     | Connection #1: [DETAILED] Sending text message | Connection closed: False | Message size: 58 bytes
2025-11-11 12:16:58 | INFO     | Connection #1: [DETAILED] Sent message | Type: stop_listen | Full message: {"session_id": "", "type": "stop_listen", "state": "stop"}
2025-11-11 12:16:59 | INFO     | Connection #1: [DETAILED] Received JSON message #1111 | Raw message: {"type":"stt","text":"ä¸œåŒ—é•¿ç²’é¦™ç±³çš„ç±³ç²’æ˜¯ç»†é•¿çš„å—ï¼Ÿç…®å‡ºæ¥çš„ç±³é¥­ä¼šä¸ä¼šå¾ˆç¡¬ï¼Ÿ"}
2025-11-11 12:16:59 | INFO     | Connection #1: [DETAILED] Parsed message | Type: stt | Full data: {
  "type": "stt",
  "text": "ä¸œåŒ—é•¿ç²’é¦™ç±³çš„ç±³ç²’æ˜¯ç»†é•¿çš„å—ï¼Ÿç…®å‡ºæ¥çš„ç±³é¥­ä¼šä¸ä¼šå¾ˆç¡¬ï¼Ÿ"
}
2025-11-11 12:16:59 | INFO     | Connection #1: STT response received in 6801.23ms | Recognized text: ä¸œåŒ—é•¿ç²’é¦™ç±³çš„ç±³ç²’æ˜¯ç»†é•¿çš„å—ï¼Ÿç…®å‡ºæ¥çš„ç±³é¥­ä¼šä¸ä¼šå¾ˆç¡¬ï¼Ÿ
2025-11-11 12:16:59 | INFO     | Connection #1: [DETAILED] Received JSON message #1112 | Raw message: {"type":"tts","state":"start"}
2025-11-11 12:16:59 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "start"
}
2025-11-11 12:16:59 | INFO     | Connection #1: TTS start | State: start
2025-11-11 12:17:02 | INFO     | Connection #1: [DETAILED] Received JSON message #1113 | Raw message: {"type":"tts","state":"sentence_start","text":"è¿™å°±å¸®ä½ æŸ¥å•†å“çš„è¯¦ç»†å±æ€§ï¼Œå¾ˆå¿«å°±å¥½ã€‚"}
2025-11-11 12:17:02 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_start",
  "text": "è¿™å°±å¸®ä½ æŸ¥å•†å“çš„è¯¦ç»†å±æ€§ï¼Œå¾ˆå¿«å°±å¥½ã€‚"
}
2025-11-11 12:17:02 | INFO     | Connection #1: TTS sentence_start | Text: è¿™å°±å¸®ä½ æŸ¥å•†å“çš„è¯¦ç»†å±æ€§ï¼Œå¾ˆå¿«å°±å¥½ã€‚
2025-11-11 12:17:05 | INFO     | Connection #1: [DETAILED] Received JSON message #1167 | Raw message: {"type":"tts","state":"sentence_end","text":""}
2025-11-11 12:17:05 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_end",
  "text": ""
}
2025-11-11 12:17:05 | INFO     | Connection #1: TTS update | State: sentence_end
2025-11-11 12:17:05 | INFO     | Connection #1: [DETAILED] Received JSON message #1168 | Raw message: {"type":"tts","state":"sentence_start","text":"ä¸œåŒ—é•¿ç²’é¦™ç±³çš„ç±³ç²’æ˜¯ç»†é•¿çš„å“Ÿã€‚"}
2025-11-11 12:17:05 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_start",
  "text": "ä¸œåŒ—é•¿ç²’é¦™ç±³çš„ç±³ç²’æ˜¯ç»†é•¿çš„å“Ÿã€‚"
}
2025-11-11 12:17:05 | INFO     | Connection #1: TTS sentence_start | Text: ä¸œåŒ—é•¿ç²’é¦™ç±³çš„ç±³ç²’æ˜¯ç»†é•¿çš„å“Ÿã€‚
2025-11-11 12:17:08 | INFO     | Connection #1: [DETAILED] Received JSON message #1216 | Raw message: {"type":"tts","state":"sentence_end","text":""}
2025-11-11 12:17:08 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_end",
  "text": ""
}
2025-11-11 12:17:08 | INFO     | Connection #1: TTS update | State: sentence_end
2025-11-11 12:17:08 | INFO     | Connection #1: [DETAILED] Received JSON message #1217 | Raw message: {"type":"tts","state":"sentence_start","text":"è¿™æ¬¾ç±³è¯¦ç»†ä»‹ç»æ¥å•¦ï¼šå®ƒäº§è‡ªä¸œåŒ—é»‘åœŸå¹³åŸ"}
2025-11-11 12:17:08 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_start",
  "text": "è¿™æ¬¾ç±³è¯¦ç»†ä»‹ç»æ¥å•¦ï¼šå®ƒäº§è‡ªä¸œåŒ—é»‘åœŸå¹³åŸ"
}
2025-11-11 12:17:08 | INFO     | Connection #1: TTS sentence_start | Text: è¿™æ¬¾ç±³è¯¦ç»†ä»‹ç»æ¥å•¦ï¼šå®ƒäº§è‡ªä¸œåŒ—é»‘åœŸå¹³åŸ
2025-11-11 12:17:12 | INFO     | Connection #1: [DETAILED] Received JSON message #1283 | Raw message: {"type":"tts","state":"sentence_end","text":""}
2025-11-11 12:17:12 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_end",
  "text": ""
}
2025-11-11 12:17:12 | INFO     | Connection #1: TTS update | State: sentence_end
2025-11-11 12:17:12 | INFO     | Connection #1: [DETAILED] Received JSON message #1284 | Raw message: {"type":"tts","state":"sentence_start","text":"ï¼Œæ˜¯å¸¦æœ‰ç‹¬ç‰¹æ¸…é¦™ã€å£æ„ŸQå¼¹çˆ½æ»‘çš„ä¼˜è´¨å¤§ç±³"}
2025-11-11 12:17:12 | INFO     | Connection #1: [DETAILED] Parsed message | Type: tts | Full data: {
  "type": "tts",
  "state": "sentence_start",
  "text": "ï¼Œæ˜¯å¸¦æœ‰ç‹¬ç‰¹æ¸…é¦™ã€å£æ„ŸQå¼¹çˆ½æ»‘çš„ä¼˜è´¨å¤§ç±³"
}
2025-11-11 12:17:12 | INFO     | Connection #1: TTS sentence_start | Text: ï¼Œæ˜¯å¸¦æœ‰ç‹¬ç‰¹æ¸…é¦™ã€å£æ„ŸQå¼¹çˆ½æ»‘çš„ä¼˜è´¨å¤§ç±³
